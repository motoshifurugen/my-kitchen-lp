---
import PageSection from "./PageSection.astro";
import { sections, illustrations } from "../constants/content";

const { today } = sections;
---
<PageSection
  id={today.id}
  page={null}
  title={today.subtitle}
  subtitle={null}
  description={today.description}
  eyebrow={today.title}
  eyebrowClass="book-label"
  descriptionClass="text-body text-text-secondary"
  titleClass="text-display"
>
  <div class="grid gap-lg lg:grid-cols-[1.05fr_0.95fr] lg:items-center">
    <div class="section-frame p-lg shadow-sm w-full max-w-[360px] mx-auto" data-reveal>
      <div class="rounded-lg bg-white overflow-hidden">
        <img
          class="block w-full h-auto"
          src="/images/page1/record-card.webp"
          alt="記録画面のイメージ"
          loading="lazy"
        />
      </div>
    </div>
    <div class="rounded-xl bg-background-secondary p-xl shadow-sm space-y-lg">
      <ul class="space-y-md text-caption text-text-secondary">
        {today.points.map((point, index) => {
          const icons = [
            (
              <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="4" y="7" width="16" height="12" rx="2"></rect>
                <path d="M9 7l1.5-2h3L15 7"></path>
                <circle cx="12" cy="13" r="3"></circle>
              </svg>
            ),
            (
              <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M4 20h4l10-10-4-4L4 16v4z"></path>
                <path d="M14 6l4 4"></path>
              </svg>
            ),
            (
              <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="6" y="4" width="12" height="16" rx="2"></rect>
                <path d="M9 8h6"></path>
                <path d="M9 12h6"></path>
                <path d="M9 16h4"></path>
              </svg>
            )
          ];

          return (
            <li class="flex gap-sm items-center">
              <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-accent-subtle text-text-secondary shadow-sm">
                {icons[index] ?? null}
              </span>
              <span>
                <span class="block sm:inline">{point.prefix}</span>
                <strong class="block sm:inline font-semibold text-text-primary">{point.emphasis}</strong>
              </span>
            </li>
          );
        })}
      </ul>
      <div class="border-t border-black/10 pt-md space-y-sm flex flex-col items-center text-center">
        <p class="text-caption text-text-tertiary">出来上がったカード</p>
        <div class="section-frame p-sm shadow-sm w-full max-w-[220px] bg-white rounded-lg">
          <img
            class="block w-full h-auto"
            src="/images/page1/record-card-2.webp"
            alt="今日のカード"
            loading="lazy"
          />
        </div>
      </div>
    </div>
  </div>
</PageSection>
